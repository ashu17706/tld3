<!DOCTYPE html>

<html>
<head>
  <title>trialLib.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="trialLib.html">
                  trialLib.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>trialLib.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/* global d3 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>const data =
[
{ ‘letter’:’A’, ‘frequency’:0.08167 },
{ ‘letter’:’B’,’frequency’:0.01492 },
{ ‘letter’:’C’,’frequency’:0.02782 },
{ ‘letter’:’D’,’frequency’:0.04253 },
{ ‘letter’:’E’,’frequency’:0.12702 },
{ ‘letter’:’F’,’frequency’:0.02288 },
{ ‘letter’:’G’,’frequency’:0.02015 },
{ ‘letter’:’H’,’frequency’:0.06094 },
{ ‘letter’:’I’,’frequency’:0.06966 },
{ ‘letter’:’J’,’frequency’:0.00153 },
{ ‘letter’:’K’,’frequency’:0.00772 },
{ ‘letter’:’L’,’frequency’:0.04025 },
{ ‘letter’:’M’,’frequency’:0.02406 },
{ ‘letter’:’N’,’frequency’:0.06749 },
{ ‘letter’:’O’,’frequency’:0.07507 },
{ ‘letter’:’P’,’frequency’:0.01929 },
{ ‘letter’:’Q’,’frequency’:0.00095 },
{ ‘letter’:’R’,’frequency’:0.05987 },
{ ‘letter’:’S’,’frequency’:0.06327 },
{ ‘letter’:’T’,’frequency’:0.09056 },
{ ‘letter’:’U’,’frequency’:0.02758 },
{ ‘letter’:’V’,’frequency’:0.00978 },
{ ‘letter’:’W’,’frequency’:0.0236 },
{ ‘letter’:’X’,’frequency’:0.0015 },
{ ‘letter’:’Y’,’frequency’:0.01974 },
{ ‘letter’:’Z’,’frequency’:0.00074 }
];</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> data =
  [{ <span class="hljs-string">'letter'</span>: <span class="hljs-string">'A'</span>, <span class="hljs-string">'frequency'</span>: <span class="hljs-number">0.08167</span> },
   { <span class="hljs-string">'letter'</span>: <span class="hljs-string">'B'</span>, <span class="hljs-string">'frequency'</span>: <span class="hljs-number">0.01492</span> },
  ];
<span class="hljs-comment">/**
Utils defines .....
@private
*/</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>const utils = {};</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-comment">/**
This defines our main library object.
@private
*/</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Margin</span> </span>{
  <span class="hljs-keyword">constructor</span>({ top, left, right, bottom }) {
    <span class="hljs-keyword">this</span>.top = top || <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.left = left || <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.right = right || <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>.bottom = bottom || <span class="hljs-number">0</span>;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Width</span> </span>{
  <span class="hljs-keyword">constructor</span>(width) {
    <span class="hljs-keyword">this</span>.width = width;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Height</span> </span>{
  <span class="hljs-keyword">constructor</span>(height) {
    <span class="hljs-keyword">this</span>.height = height;
  }
}

<span class="hljs-keyword">const</span> Internal = {
  config: {
    Height: Height,
    Width: Width,
    Margins: Margin,
    fontSize: <span class="hljs-literal">true</span>,
    fontStyle: <span class="hljs-literal">true</span>,
    axisLabels: <span class="hljs-literal">true</span>,
    axisPosition: <span class="hljs-literal">true</span>,
    xScale: <span class="hljs-literal">true</span>,
    yScale: <span class="hljs-literal">true</span>,
    color: [],
  },

  internalUpdateHeight() {

  },
};

<span class="hljs-comment">/**
Internal defines .....
@private
*/</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ChartMain</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
  }

  selectElement() {
    <span class="hljs-keyword">this</span>.element = d3.select(<span class="hljs-keyword">this</span>.location);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setMargin(options) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.margin) {
      <span class="hljs-keyword">this</span>.margin = <span class="hljs-keyword">new</span> Internal.config.Margins({ top: <span class="hljs-number">20</span>, right: <span class="hljs-number">20</span>, bottom: <span class="hljs-number">30</span>, left: <span class="hljs-number">40</span> });
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.margins.margins(options);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setWidth(width) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.width) {
      <span class="hljs-keyword">this</span>.width = <span class="hljs-keyword">new</span> Internal.config.Width(<span class="hljs-number">200</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.width.width(width);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setHeight(height) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.height) {
      <span class="hljs-keyword">this</span>.height = <span class="hljs-keyword">new</span> Internal.config.Height(<span class="hljs-number">120</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>.height.height(height);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  createSVG() {</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>NOT exposed to user</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.svg = <span class="hljs-keyword">this</span>.element
                    .append(<span class="hljs-string">'svg'</span>)
                    .attr(<span class="hljs-string">'width'</span>, <span class="hljs-keyword">this</span>.width.width + <span class="hljs-keyword">this</span>.margin.left + <span class="hljs-keyword">this</span>.margin.right)
                    .attr(<span class="hljs-string">'height'</span>, <span class="hljs-keyword">this</span>.height.height + <span class="hljs-keyword">this</span>.margin.top + <span class="hljs-keyword">this</span>.margin.bottom)
                    .append(<span class="hljs-string">'g'</span>)
                    .attr(<span class="hljs-string">'transform'</span>, <span class="hljs-string">'translate('</span> + <span class="hljs-keyword">this</span>.margin.left + <span class="hljs-string">','</span> + <span class="hljs-keyword">this</span>.margin.top + <span class="hljs-string">')'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  mapData() {

  }

  setXscale() {
    <span class="hljs-keyword">this</span>.xScale = d3.scale.ordinal() <span class="hljs-comment">// Add check to figure out scale</span>
                    .rangeRoundBands([<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.width.width], <span class="hljs-number">0.1</span>);
    <span class="hljs-keyword">this</span>.xScale.domain(<span class="hljs-keyword">this</span>.data.map(d =&gt; { <span class="hljs-keyword">return</span> d.letter; }));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setYscale() {
    <span class="hljs-keyword">this</span>.yScale = d3.scale.linear()
                    .range([<span class="hljs-keyword">this</span>.height.height, <span class="hljs-number">0</span>]);
    <span class="hljs-keyword">this</span>.yScale.domain([<span class="hljs-number">0</span>, d3.max(<span class="hljs-keyword">this</span>.data, d =&gt; { <span class="hljs-keyword">return</span> d.frequency; })]);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  creteXaxis() {
    <span class="hljs-keyword">this</span>.xAxis = d3.svg.axis()
          .scale(<span class="hljs-keyword">this</span>.xScale)
          .orient(<span class="hljs-string">'bottom'</span>);

    <span class="hljs-keyword">this</span>.svg.append(<span class="hljs-string">'g'</span>)
            .attr(<span class="hljs-string">'class'</span>, <span class="hljs-string">'x axis'</span>)
            .attr(<span class="hljs-string">'transform'</span>, <span class="hljs-string">'translate(0, '</span> + <span class="hljs-keyword">this</span>.height.height + <span class="hljs-string">')'</span>)
            .call(<span class="hljs-keyword">this</span>.xAxis);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  createYaxis() {
    <span class="hljs-keyword">this</span>.yAxis = d3.svg.axis()
      .scale(<span class="hljs-keyword">this</span>.yScale)
      .orient(<span class="hljs-string">'left'</span>)
      .ticks(<span class="hljs-number">10</span>, <span class="hljs-string">'%'</span>); <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> make work for all data</span>

    <span class="hljs-keyword">this</span>.svg.append(<span class="hljs-string">'g'</span>)
             .attr(<span class="hljs-string">'class'</span>, <span class="hljs-string">'y axis'</span>)
             .call(<span class="hljs-keyword">this</span>.yAxis);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setAxisPathStyle(fill = <span class="hljs-string">'none'</span>, stroke = <span class="hljs-string">'#000'</span>, shapeRerendering = <span class="hljs-string">'crispEdges'</span>) {
    <span class="hljs-keyword">this</span>.svg.selectAll(<span class="hljs-string">'.axis'</span>).selectAll(<span class="hljs-string">'path'</span>)
       .style({
         fill: fill,
         stroke: stroke,
         <span class="hljs-string">'shape-rendering'</span>: shapeRerendering,
       });

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setAxisLineStyle(fill = <span class="hljs-string">'none'</span>, stroke = <span class="hljs-string">'#000'</span>, shapeRerendering = <span class="hljs-string">'crispEdges'</span>) {
    <span class="hljs-keyword">this</span>.svg.selectAll(<span class="hljs-string">'.axis'</span>).selectAll(<span class="hljs-string">'line'</span>)
       .style({
         fill: fill,
         stroke: stroke,
         <span class="hljs-string">'shape-rendering'</span>: shapeRerendering,
       });
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  setColors() {

  }

  setTitle() {

  }

  setFontSize() {

  }

  setFontType() {

  }

  createLegend() {

  }

  <span class="hljs-keyword">in</span>(classOrid) {
    <span class="hljs-keyword">this</span>.location = classOrid;
    <span class="hljs-keyword">this</span>.render();
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

  using(dataInput) {</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>data handling happens here with es6 promise
DO DATA HANDLING</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">this</span>.data = dataInput;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>TODO: Make work for all names</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

}

<span class="hljs-comment">/**
This creates the Bar subclass.
*/</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BarChart</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChartMain</span> </span>{
  <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">super</span>();
  }

  render() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.selectElement()
                .setMargin()
                .setWidth()
                .setHeight()
                .setXscale()
                .setYscale()
                .createSVG()
                .creteXaxis()
                .createYaxis()
                .setAxisPathStyle()
                .setAxisLineStyle()
                .final();
  }

  final() {
    <span class="hljs-keyword">this</span>.svg.selectAll(<span class="hljs-string">'.bar'</span>)
         .data(<span class="hljs-keyword">this</span>.data)
         .enter()
       .append(<span class="hljs-string">'rect'</span>)
         .attr(<span class="hljs-string">'class'</span>, <span class="hljs-string">'bar'</span>)
         .attr(<span class="hljs-string">'x'</span>, d =&gt; { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.xScale(d.letter); }) <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Make work for all names</span>
         .attr(<span class="hljs-string">'width'</span>, <span class="hljs-keyword">this</span>.xScale.rangeBand())
         .attr(<span class="hljs-string">'y'</span>, d =&gt; { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.yScale(d.frequency); }) <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Make work for all names</span>
         .attr(<span class="hljs-string">'height'</span>, d =&gt; { <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.height.height - <span class="hljs-keyword">this</span>.yScale(d.frequency); }) <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Make work for all names</span>
         .style(<span class="hljs-string">'fill'</span>, <span class="hljs-string">'steelblue'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
  }

}


<span class="hljs-keyword">const</span> charts = {</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>holds all sub classes</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  BarChart,
};

<span class="hljs-keyword">const</span> d3fault = {
  version: <span class="hljs-string">'1.0.0'</span>,
  make(chartType) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> charts[chartType]();
  },
};


d3fault.make(<span class="hljs-string">'BarChart'</span>)
        .using(data)
        .in(<span class="hljs-string">'#yo'</span>);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
